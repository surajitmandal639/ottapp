import{r as c,j as e,Y as u,a,y as l}from"./app-DWiplGih.js";import{M as f}from"./MyPagination-qmxJVFS1.js";import{b as g,s as b}from"./SweetAlert-_wzJVbyC.js";import{A as v}from"./AuthenticatedLayout-RN_dLH_b.js";import"./jquery-TLgHKWof.js";import"./index-C5nD6nVr.js";import"./bootstrap.esm-Bb0rKlaf.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";const I=({auth:d,title:i,users:n})=>{const[t,o]=c.useState(new URLSearchParams(window.location.search).get("s")||""),[r,h]=c.useState(new URLSearchParams(window.location.search).get("plan_id")||""),m=s=>{s.preventDefault(),l.get(route("users.index"),{s:t,plan_id:r},{preserveState:!0})},x=s=>{h(s.target.value),l.get(route("users.index"),{s:t,plan_id:s.target.value},{preserveState:!0})},p=async s=>{await g("Are you sure you want to delete this user?")&&await l.delete(route("users.destroy",s),{onSuccess:()=>{b("User deleted successfully.")}})},j=async s=>{await l.get(route("users.index"),{page:s,s:t,plan_id:r},{preserveState:!0})};return e.jsx(e.Fragment,{children:e.jsxs(v,{user:d.user,title:i,children:[e.jsx(u,{title:i}),e.jsxs("div",{className:"card-box table-responsive",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("select",{className:"form-control",name:"plan_select",id:"plan_select",value:r,onChange:x,children:[e.jsx("option",{value:"",children:"Filter by Plan"}),e.jsx("option",{value:"1",children:"Basic Plan"}),e.jsx("option",{value:"2",children:"Premium Plan"}),e.jsx("option",{value:"3",children:"Platinum Plan"}),e.jsx("option",{value:"4",children:"Diamond Plan"})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("form",{onSubmit:m,className:"app-search",id:"search",role:"form",children:[e.jsx("input",{type:"text",name:"s",placeholder:"Search by name",className:"form-control",value:t,onChange:s=>o(s.target.value)}),e.jsx("button",{type:"submit",children:e.jsx("i",{className:"fa fa-search"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs(a,{href:route("admin.users.create"),className:"btn btn-success btn-md waves-effect waves-light m-b-20 mt-2","data-toggle":"tooltip",title:"Add User",children:[e.jsx("i",{className:"fa fa-plus"})," Add User"]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs(a,{href:"#",className:"btn btn-info btn-md waves-effect waves-light m-b-20 mt-2 pull-right","data-toggle":"tooltip",title:"Export Users",children:[e.jsx("i",{className:"fa fa-file-excel-o"})," Export Users"]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:n.data.map(s=>e.jsxs("tr",{id:`card_box_id_${s.id}`,children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.phone||"-"}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-${s.status===1?"success":"danger"}`,children:s.status===1?"Active":"Inactive"})}),e.jsxs("td",{children:[e.jsx(a,{href:route("admin.users.show",s.id),className:"btn btn-icon waves-effect waves-light btn-primary m-b-5 m-r-5","data-toggle":"tooltip",title:"User History",children:e.jsx("i",{className:"fa fa-eye"})}),e.jsx(a,{href:route("admin.users.edit",s.id),className:"btn btn-icon waves-effect waves-light btn-success m-b-5 m-r-5","data-toggle":"tooltip",title:"Edit",children:e.jsx("i",{className:"fa fa-edit"})}),e.jsx(a,{href:"#",onClick:()=>p(s.id),className:"btn btn-icon waves-effect waves-light btn-danger m-b-5","data-toggle":"tooltip",title:"Remove",children:e.jsx("i",{className:"fa fa-remove"})})]})]},s.id))})]})}),e.jsx(f,{currentPage:n.current_page,lastPage:n.last_page,onPageChange:j})]})]})})};export{I as default};
