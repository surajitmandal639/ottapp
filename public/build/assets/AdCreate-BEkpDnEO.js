import{W as y,r as C,j as e,Y as F,a as u,y as $}from"./app-DWiplGih.js";import{s as O,a as x}from"./SweetAlert-_wzJVbyC.js";import{A as I}from"./AuthenticatedLayout-RN_dLH_b.js";import{F as j}from"./Form-vWb3q4NQ.js";import"./jquery-TLgHKWof.js";import"./bootstrap.esm-Bb0rKlaf.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";import"./index-C5nD6nVr.js";function R({title:f,errors:p,androidAd:s}){const{errors:N,setError:m,clearErrors:v,data:_,setData:h,processing:g,reset:D}=y({ads_name:(s==null?void 0:s.ads_name)||"",publisher_id:(s==null?void 0:s.publisher_id)||"",banner_on:(s==null?void 0:s.banner_on)||!1,banner_id:(s==null?void 0:s.banner_id)||"",interstitial_on:(s==null?void 0:s.interstitial_on)||!1,interstitial_id:(s==null?void 0:s.interstitial_id)||"",interstitial_clicks:(s==null?void 0:s.interstitial_clicks)||1,status:(s==null?void 0:s.status)||"2"}),[k,o]=C.useState(!1),a={...p,...N},t={...s,..._},b=(l,r)=>{let i=!0;const n=l.replace("_"," ").charAt(0).toUpperCase()+l.replace("_"," ").slice(1);switch(l){case"ads_name":r.trim()?r.length>255&&(m(l,`${n} must be less than 255 characters.`),i=!1):(m(l,`${n} is required.`),i=!1);break;case"publisher_id":r&&r.length>50&&(m(l,`${n} must be less than 50 characters.`),i=!1);break;case"interstitial_clicks":(isNaN(r)||r<1)&&(m(l,`${n} must be a valid number greater than or equal to 1.`),i=!1);break}return i&&v(l),i},c=l=>{const{name:r,value:i,type:n,checked:w}=l.target;h(r,n==="checkbox"?w:i),b(r,i)},d=async l=>{if(l.preventDefault(),Object.keys(t).every(i=>b(i,t[i]))){o(!0);try{await $.post(route("android-ad.save",s==null?void 0:s.id),t,{onSuccess:()=>{o(!1),O(`Ad settings ${s!=null&&s.id?"update":"create"} successfully.`)},onError:()=>{o(!1),x("An error occurred while submitting the form.")}})}catch{o(!1),x("An error occurred while submitting the form.")}}};return e.jsxs(I,{isLoading:k,children:[e.jsx(F,{title:f}),e.jsxs("div",{className:"card-box",children:[e.jsx("nav",{"aria-label":"breadcrumb ",children:e.jsxs("ol",{className:"breadcrumb text-primary",style:{justifyContent:"flex-end"},children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(u,{href:route("admin.dashboard"),children:"Dashboard"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(u,{href:route("admin.android-ad-list"),children:"Android Ads"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:s?"Update Ad":"Create Ad"})]})}),e.jsxs("form",{onSubmit:d,className:"form-horizontal",children:[e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Title ",e.jsx("span",{className:"text-danger",children:" *"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"ads_name",value:t.ads_name,onChange:c,className:`form-control ${a.ads_name?"is-invalid":""}`}),a.ads_name&&e.jsx("div",{className:"invalid-feedback",children:a.ads_name})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Publisher ID"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"publisher_id",value:t.publisher_id,onChange:c,className:`form-control ${a.publisher_id?"is-invalid":""}`}),a.publisher_id&&e.jsx("div",{className:"invalid-feedback",children:a.publisher_id})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Banner ON/OFF"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx(j.Check,{type:"switch",label:"Banner ON/OFF",checked:t.banner_on==1,onChange:l=>h("banner_on",l.target.checked?1:0),className:a.banner_on?"is-invalid":""}),a.banner_on&&e.jsx("div",{className:"invalid-feedback",children:a.banner_on})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Banner Ad ID"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"banner_id",value:t.banner_id,onChange:c,className:`form-control ${a.banner_id?"is-invalid":""}`}),a.banner_id&&e.jsx("div",{className:"invalid-feedback",children:a.banner_id})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Interstitial ON/OFF"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx(j.Check,{type:"switch",id:"interstitial-switch",label:"Interstitial ON/OFF",checked:t.interstitial_on==1,onChange:l=>h("interstitial_on",l.target.checked?1:0),className:a.interstitial_on?"is-invalid":""}),a.interstitial_on&&e.jsx("div",{className:"invalid-feedback",children:a.interstitial_on})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Interstitial Ad ID"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"interstitial_id",value:t.interstitial_id,onChange:c,className:`form-control ${a.interstitial_id?"is-invalid":""}`}),a.interstitial_id&&e.jsx("div",{className:"invalid-feedback",children:a.interstitial_id})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Interstitial Ad Clicks"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"number",name:"interstitial_clicks",min:1,value:t.interstitial_clicks,onChange:c,className:`form-control ${a.interstitial_clicks?"is-invalid":""}`}),a.interstitial_clicks&&e.jsx("div",{className:"invalid-feedback",children:a.interstitial_clicks})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Status"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{className:"form-control",name:"status",value:t.status,onChange:c,children:[e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"2",children:"Inactive"})]})})]}),e.jsx("div",{className:"form-group row",children:e.jsx("div",{className:"col-sm-8 offset-sm-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:s?"Update":"Create"})})})]})]})]})}export{R as default};
