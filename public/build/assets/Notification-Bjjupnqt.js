import{W as b,r as _,j as e,Y as k}from"./app-DWiplGih.js";import"./SweetAlert-_wzJVbyC.js";import"./bootstrap.esm-Bb0rKlaf.js";import{A as y}from"./AuthenticatedLayout-RN_dLH_b.js";import{M as w}from"./MySelect-B8IyeJ6e.js";import"./jquery-TLgHKWof.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./extends-CF3RwP-h.js";import"./setPrototypeOf-DgZC2w_0.js";import"./index-8JwjhRSi.js";function I({title:p,errors:g,videos:d}){var h;const{errors:j,setError:t,clearErrors:c,data:r,setData:m,processing:v,reset:C}=b({title:"",message:"",image:null,video_id:"",external_link:""}),[f,S]=_.useState(!1),l={...g,...j},x=(s,a)=>{let i=!0;const o=s.replace("_"," ").charAt(0).toUpperCase()+s.replace("_"," ").slice(1);switch(s){case"title":case"message":a.trim()?a.length>255?(t(s,`${o} must be less than 255 characters.`),i=!1):c(s):(t(s,`${o} is required.`),i=!1);break;case"image":a&&!["image/jpeg","image/png"].includes(a.type)?(t(s,"Only JPEG and PNG files are allowed."),i=!1):c(s);break;case"video_id":a?c(s):(t(s,"A video must be selected if you choose this option."),i=!1);break;case"external_link":a&&!/^(ftp|http|https):\/\/[^ "]+$/.test(a)?(t(s,"Please provide a valid URL."),i=!1):c(s);break}return i},n=s=>{const{name:a,value:i}=s.target;m(a,i),x(a,i)},N=s=>{const{name:a,files:i}=s.target,o=i[0];o&&!["image/jpeg","image/png"].includes(o.type)?t(a,"Only JPEG and PNG files are allowed."):c(a),m(a,o)},u=async s=>{s.preventDefault(),Object.keys(r).every(a=>x(a,r[a]))};return console.log(l.message),e.jsxs(y,{isLoading:f,children:[e.jsx(k,{title:p}),e.jsx("div",{className:"card-box",children:e.jsxs("form",{onSubmit:u,className:"form-horizontal",children:[e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Title ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"title",value:r.title,onChange:n,className:`form-control ${l.title?"is-invalid":""}`}),l.title&&e.jsx("div",{className:"invalid-feedback",children:l.title})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Message ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("textarea",{name:"message",value:r.message,onChange:n,rows:"4",placeholder:"Your Description...",className:`form-control ${l.message?"is-invalid":""}`}),l.message&&e.jsx("div",{className:"invalid-feedback",children:l.message})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Image "}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"file",name:"image",onChange:N,className:`form-control ${l.image?"is-invalid":""}`}),l.image&&e.jsx("div",{className:"text-danger",children:l.image}),e.jsx("small",{className:"form-text text-muted",children:"(Recommended resolution: 600x293 to 750x366)"})]})]}),r.image&&e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Â "}),e.jsx("div",{className:"col-sm-8",children:e.jsx("img",{style:{width:"160px"},className:"img-thumbnail",src:URL.createObjectURL(r.image),alt:"Ad logo preview"})})]}),e.jsx("h4",{className:"m-t-0 m-b-30 header-title",style:{fontSize:"18px"},children:"OR"}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Videos ",e.jsx("small",{className:"form-text text-muted",children:"(Optional)"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx(w,{name:"video_id",options:d.map(s=>({value:s.id,label:s.name})),value:r.video_id?{value:r.video_id,label:(h=d.find(s=>s.id===r.video_id))==null?void 0:h.name}:null,onChange:s=>m("video_id",s.value),placeholder:"Select a video",isClearable:!1,isSearchable:!0,className:`${l.video_id?"is-invalid":""}`}),l.video_id&&e.jsx("div",{className:"invalid-feedback",children:l.video_id}),e.jsx("small",{className:"form-text text-muted",children:"(To directly open single video when clicked)"})]})]}),e.jsx("h4",{className:"m-t-0 m-b-30 header-title",style:{fontSize:"18px"},children:"OR"}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["External Link ",e.jsx("small",{className:"form-text text-muted",children:"(Optional)"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"external_link",placeholder:"https://example.com",value:r.external_link,onChange:n,className:`form-control ${l.external_link?"is-invalid":""}`}),l.external_link&&e.jsx("div",{className:"invalid-feedback",children:l.external_link})]})]}),e.jsx("div",{className:"form-group row",children:e.jsx("div",{className:"col-sm-8 offset-sm-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:"Save"})})})]})})]})}export{I as default};
