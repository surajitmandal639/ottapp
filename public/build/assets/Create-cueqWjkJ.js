import{W as v,r as i,j as e,Y as N,a as t,y as c}from"./app-DWiplGih.js";import{s as r}from"./SweetAlert-_wzJVbyC.js";import{A as f}from"./AuthenticatedLayout-RN_dLH_b.js";import"./jquery-TLgHKWof.js";import"./bootstrap.esm-Bb0rKlaf.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";function A({auth:x,errors:l,subscription_plan:a}){const{data:m,setData:s,processing:h,reset:o}=v({name:(a==null?void 0:a.name)||"",duration:(a==null?void 0:a.duration)||"",duration_type:(a==null?void 0:a.duration_type)||"",price:(a==null?void 0:a.price)||"",device_limit:(a==null?void 0:a.device_limit)||"",ads:(a==null?void 0:a.ads)||1,status:(a==null?void 0:a.status)||1});i.useEffect(()=>{a&&s({name:(a==null?void 0:a.name)||"",duration:(a==null?void 0:a.duration)||"",duration_type:(a==null?void 0:a.duration_type)||"",price:(a==null?void 0:a.price)||"",device_limit:(a==null?void 0:a.device_limit)||"",ads:(a==null?void 0:a.ads)||"",status:(a==null?void 0:a.status)||1})},[a]);const j=async d=>{d.preventDefault(),a?await c.post(route("subscription-plans.update",a.id),{...m,_method:"PUT"},{onSuccess:()=>{r("Plan updated successfully.")}}):await c.post(route("subscription-plans.store"),m,{onSuccess:()=>{r("Plan created successfully."),o()}})};return e.jsxs(f,{user:x.user,children:[e.jsx(N,{title:a?"Edit Plan":"Add Plan"}),e.jsxs("div",{className:"card-box table-responsive",children:[e.jsx("nav",{"aria-label":"breadcrumb ",children:e.jsxs("ol",{className:"breadcrumb text-primary",style:{justifyContent:"flex-end"},children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(t,{href:route("admin.dashboard"),children:"Dashboard"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(t,{href:route("admin.subscription-plans.index"),children:"Subscription Plans"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Add Plan"})]})}),e.jsxs("form",{onSubmit:j,className:"form-horizontal",autoCapitalize:"off",children:[e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"name",value:m.name,onChange:d=>s("name",d.target.value),className:"form-control",required:!0}),l.name&&e.jsx("span",{className:"text-danger",children:l.name})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Duration ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("input",{type:"text",name:"duration",value:m.duration,onChange:d=>s("duration",d.target.value),className:"form-control",required:!0}),l.duration&&e.jsx("span",{className:"text-danger",children:l.duration})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("select",{className:"form-control",name:"duration_type",value:m.duration_type,onChange:d=>s("duration_type",d.target.value),children:[e.jsx("option",{value:"1",children:"Days"}),e.jsx("option",{value:"7",children:"Weeks"}),e.jsx("option",{value:"30",children:"Months"}),e.jsx("option",{value:"365",children:"Year"})]}),l.duration_type&&e.jsx("span",{className:"text-danger",children:l.duration_type})]})]})})]}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Price ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"number",name:"price",min:0,value:m.price,onChange:d=>s("price",d.target.value),className:"form-control",required:!0}),l.price&&e.jsx("span",{className:"text-danger",children:l.price})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Device Limit ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"number",name:"device_limit",min:1,value:m.device_limit,onChange:d=>s("device_limit",d.target.value),className:"form-control",required:!0}),l.device_limit&&e.jsx("span",{className:"text-danger",children:l.device_limit})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Ads"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsxs("select",{className:"form-control",name:"ads",value:m.ads,onChange:d=>s("ads",d.target.value),children:[e.jsx("option",{value:"1",children:"On"}),e.jsx("option",{value:"2",children:"Off"})]}),l.ads&&e.jsx("span",{className:"text-danger",children:l.ads})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Status"}),e.jsxs("div",{className:"col-sm-8",children:[e.jsxs("select",{className:"form-control",name:"status",value:m.status,onChange:d=>s("status",d.target.value),children:[e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"2",children:"Inactive"})]}),l.status&&e.jsx("span",{className:"text-danger",children:l.status})]})]}),e.jsx("div",{className:"form-group row",children:e.jsx("div",{className:"col-sm-8 offset-sm-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:a?"Update":"Create"})})})]})]})]})}export{A as default};
