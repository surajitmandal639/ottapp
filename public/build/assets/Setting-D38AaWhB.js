import{W as C,r as $,j as s,Y as g,y as A}from"./app-DWiplGih.js";import{s as E,a as v}from"./SweetAlert-_wzJVbyC.js";import{A as D}from"./AuthenticatedLayout-RN_dLH_b.js";import{C as t,a as h}from"./ckeditor-By3W5umn.js";import"./jquery-TLgHKWof.js";import"./bootstrap.esm-Bb0rKlaf.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";import"./index-C5nD6nVr.js";function q({title:j,errors:f,androidSetting:e}){const{errors:d,setError:r,clearErrors:u,data:N,setData:n,processing:b}=C({app_name:(e==null?void 0:e.app_name)||"",app_logo:null,app_email:(e==null?void 0:e.app_email)||"",app_company:(e==null?void 0:e.app_company)||"",app_website:(e==null?void 0:e.app_website)||"",app_contact:(e==null?void 0:e.app_contact)||"",app_version:(e==null?void 0:e.app_version)||"",about_us:(e==null?void 0:e.about_us)||"",privacy_policy:(e==null?void 0:e.privacy_policy)||"",onesignal_app_id:(e==null?void 0:e.onesignal_app_id)||"",onesignal_rest_key:(e==null?void 0:e.onesignal_rest_key)||"",app_update_popup:(e==null?void 0:e.app_update_popup)||!1,app_update_version_code:(e==null?void 0:e.app_update_version_code)||"",app_update_desc:(e==null?void 0:e.app_update_desc)||"",app_update_link:(e==null?void 0:e.app_update_link)||"",app_update_cancel_option:(e==null?void 0:e.app_update_cancel_option)||!1,terms_of_use:(e==null?void 0:e.terms_of_use)||""}),[y,_]=$.useState(!1),a={...f,...d},o={...e,...N},x=async(p,l)=>{let c=!0;const m=p.replace("_"," ").toUpperCase();switch(p){case"app_name":l.trim()?l.length>255&&(r(p,`${m} must be less than 255 characters.`),c=!1):(r(p,`${m} is required.`),c=!1);break;case"app_logo":l&&!["image/jpeg","image/png"].includes(l.type)?(r(p,`${m} must be a JPEG or PNG image.`),c=!1):l&&l.size>2048*1024&&(r(p,`${m} must be less than 2MB.`),c=!1);break;case"app_email":l.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)?l.length>255&&(r(p,`${m} must be less than 255 characters.`),c=!1):(r(p,`${m} must be a valid email.`),c=!1):(r(p,`${m} is required.`),c=!1);break;case"app_company":case"app_website":case"app_contact":case"app_version":case"onesignal_app_id":case"onesignal_rest_key":l.length>255&&(r(p,`${m} must be less than 255 characters.`),c=!1);break;case"app_update_popup":case"app_update_version_code":l&&isNaN(l)&&(r(p,`${m} must be a numeric value.`),c=!1);break;case"app_website":case"app_update_link":l&&!/^https?:\/\/[^\s/$.?#].[^\s]*$/.test(l)&&(r(p,`${m} must be a valid URL.`),c=!1);break}return c&&u(p),c},w=p=>{const{name:l,files:c}=p.target,m=c[0];m&&!["image/jpeg","image/png"].includes(m.type)?r(l,"Only JPEG and PNG files are allowed."):u(l),n(l,m)},i=p=>{const{name:l,value:c}=p.target;n(l,c),x(l,c)},k=async p=>{if(p.preventDefault(),Object.keys(o).every(c=>x(c,o[c]))){_(!0);try{await A.post(route("android-setting.save"),o,{onSuccess:()=>{_(!1),E("Purchase details updated successfully.")},onError:()=>{_(!1),v("An error occurred while submitting the form.")}})}catch(c){_(!1),console.log(c),v("An error occurred while submitting the form.")}}};return console.log("Data : ",o),s.jsxs(D,{isLoading:y,children:[s.jsx(g,{title:j}),s.jsx("div",{className:"card-box",children:s.jsxs("form",{onSubmit:k,className:"form-horizontal",children:[s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h4",{className:"m-t-0 m-b-30 header-title",style:{fontSize:"20px"},children:"App Settings"}),s.jsxs("div",{className:"form-group row",children:[s.jsxs("label",{className:"col-sm-3 col-form-label",children:["App Name ",s.jsx("span",{className:"text-danger",children:" *"})]}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"app_name",value:o.app_name,onChange:i,className:`form-control ${a.app_name?"is-invalid":""}`}),a.app_name&&s.jsx("div",{className:"invalid-feedback",children:a.app_name})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsxs("label",{className:"col-sm-3 col-form-label",children:["App Logo ",s.jsx("span",{className:"text-danger",children:" *"})]}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{className:"form-control",type:"file",name:"app_logo",onChange:w,required:!(e!=null&&e.app_logo)}),a&&a.app_logo&&s.jsx("span",{className:"text-danger",children:a.app_logo}),s.jsx("small",{className:"form-text text-muted",children:"(Recommended resolution: 180x50)"})]})]}),o.app_logo&&s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:" "}),s.jsx("div",{className:"col-sm-8",children:s.jsx("img",{style:{width:"160px"},className:"img-thumbnail",src:URL.createObjectURL(o.app_logo),alt:"Site Logo"})})]}),(e==null?void 0:e.app_logo)&&s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:" "}),s.jsx("div",{className:"col-sm-8",children:s.jsx("img",{style:{width:"110px"},className:"img-thumbnail",src:`/storage/upload/images/android_setting/${e.app_logo}`,alt:"video thumb"})})]}),s.jsxs("div",{className:"form-group row",children:[s.jsxs("label",{className:"col-sm-3 col-form-label",children:["App Email ",s.jsx("span",{className:"text-danger",children:" *"})]}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"email",name:"app_email",value:o.app_email,onChange:i,className:`form-control ${a.app_email?"is-invalid":""}`}),a.app_email&&s.jsx("div",{className:"invalid-feedback",children:a.app_email})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"App Company"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"app_company",value:o.app_company,onChange:i,className:`form-control ${a.app_company?"is-invalid":""}`}),a.app_company&&s.jsx("div",{className:"invalid-feedback",children:a.app_company})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"App Website"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"app_website",value:o.app_website,onChange:i,className:`form-control ${a.app_website?"is-invalid":""}`}),a.app_website&&s.jsx("div",{className:"invalid-feedback",children:a.app_website})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"App Contact"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"app_contact",value:o.app_contact,onChange:i,className:`form-control ${a.app_contact?"is-invalid":""}`}),a.app_contact&&s.jsx("div",{className:"invalid-feedback",children:a.app_contact})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"App Version"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"app_version",value:o.app_version,onChange:i,className:`form-control ${a.app_version?"is-invalid":""}`}),a.app_version&&s.jsx("div",{className:"invalid-feedback",children:a.app_version})]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"About Us"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx(t,{editor:h,data:o.about_us,onChange:(p,l)=>{const c=l.getData();n("about_us",c)}}),a&&a.about_us&&s.jsx("span",{className:"text-danger",children:a.about_us})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"Privacy Policy"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx(t,{editor:h,data:o.privacy_policy,onChange:(p,l)=>{const c=l.getData();n("privacy_policy",c)}}),a&&a.privacy_policy&&s.jsx("span",{className:"text-danger",children:a.description})]})]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h4",{className:"m-t-0 m-b-30 header-title",style:{fontSize:"20px"},children:"OneSignal Settings"}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"OneSignal App ID"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"onesignal_app_id",value:o.onesignal_app_id,onChange:i,className:`form-control ${a.onesignal_app_id?"is-invalid":""}`}),a.onesignal_app_id&&s.jsx("div",{className:"invalid-feedback",children:a.onesignal_app_id})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"Onesignal Rest Key"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"onesignal_rest_key",value:o.onesignal_rest_key,onChange:i,className:`form-control ${a.onesignal_rest_key?"is-invalid":""}`}),a.onesignal_rest_key&&s.jsx("div",{className:"invalid-feedback",children:a.onesignal_rest_key})]})]}),s.jsx("hr",{}),s.jsx("h4",{className:"m-t-0 m-b-30 header-title",style:{fontSize:"20px"},children:"App Update"}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"App Update Popup"}),s.jsx("div",{className:"col-sm-8",children:s.jsxs("select",{className:"form-control",name:"app_update_popup",value:o.app_update_popup,onChange:p=>n("app_update_popup",p.target.value),children:[s.jsx("option",{value:"1",children:"Active"}),s.jsx("option",{value:"0",children:"Inactive"})]})})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"New App Version Code"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"number",name:"app_update_version_code",value:o.app_update_version_code,onChange:i,className:`form-control ${a.app_update_version_code?"is-invalid":""}`,min:"1"}),a.app_update_version_code&&s.jsx("div",{className:"invalid-feedback",children:a.app_update_version_code})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"Description"}),s.jsx("div",{className:"col-sm-8",children:s.jsx("textarea",{name:"app_update_desc",value:o.app_update_desc,onChange:i,className:"form-control",cols:"30",rows:"4",placeholder:"Your Description..."})})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"App Link"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx("input",{type:"text",name:"app_update_link",value:o.app_update_link,onChange:i,className:`form-control ${a.app_update_link?"is-invalid":""}`}),a.app_update_link&&s.jsx("div",{className:"invalid-feedback",children:a.app_update_link})]})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"Cancel Option"}),s.jsx("div",{className:"col-sm-8",children:s.jsxs("select",{className:`form-control ${a.app_update_cancel_option?"is-invalid":""}`,name:"app_update_cancel_option",value:o.app_update_cancel_option,onChange:p=>n("app_update_cancel_option",p.target.value),children:[s.jsx("option",{value:"1",children:"Active"}),s.jsx("option",{value:"0",children:"Inactive"})]})})]}),s.jsxs("div",{className:"form-group row",children:[s.jsx("label",{className:"col-sm-3 col-form-label",children:"Terms Of Use"}),s.jsxs("div",{className:"col-sm-8",children:[s.jsx(t,{editor:h,data:o.terms_of_use,onChange:(p,l)=>{const c=l.getData();n("terms_of_use",c)}}),a&&a.terms_of_use&&s.jsx("span",{className:"text-danger",children:a.terms_of_use})]})]})]})]}),s.jsx("div",{className:"form-group",children:s.jsx("div",{className:"offset-sm-3 col-sm-9 pl-1",children:s.jsx("button",{type:"submit",className:"btn btn-primary waves-effect waves-light",disabled:b,children:" Save "})})})]})})]})}export{q as default};
