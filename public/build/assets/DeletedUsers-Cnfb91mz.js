import{r as f,j as e,Y as j,a as i,y as t}from"./app-DWiplGih.js";import{M as b}from"./MyPagination-qmxJVFS1.js";import{b as n,s as o}from"./SweetAlert-_wzJVbyC.js";import{A as g}from"./AuthenticatedLayout-RN_dLH_b.js";import"./jquery-TLgHKWof.js";import"./index-C5nD6nVr.js";import"./bootstrap.esm-Bb0rKlaf.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";function _({auth:c,title:l,users:a}){const[r,d]=f.useState(new URLSearchParams(window.location.search).get("s")||""),h=s=>{s.preventDefault(),t.get(route("users.deleted"),{s:r},{preserveState:!0})},m=async s=>{await n("Are you sure? You will not be able to recover this.")&&await t.post(route("users.delete",s),{onSuccess:()=>{o("User delete permanetly successful.")}})},x=async s=>{await t.get(route("users.index"),{page:s,s:r},{preserveState:!0})},p=async s=>{await n("You want to restore this user.")&&await t.put(route("users.recovery",s),{onSuccess:()=>{o("User Recovery successful.")}})};return e.jsx(e.Fragment,{children:e.jsxs(g,{user:c.user,children:[e.jsx(j,{title:l}),e.jsxs("div",{className:"card-box table-responsive",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-3",children:e.jsxs("form",{onSubmit:h,className:"app-search",id:"search",role:"form",children:[e.jsx("input",{type:"text",name:"s",placeholder:"Search by name or email",className:"form-control",value:r,onChange:s=>d(s.target.value)}),e.jsx("button",{type:"submit",children:e.jsx("i",{className:"fa fa-search"})})]})})}),e.jsx("div",{className:"table-responsive pt-3",children:e.jsxs("table",{className:"table table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:a.data.map(s=>e.jsxs("tr",{id:`card_box_id_${s.id}`,children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.phone||"-"}),e.jsxs("td",{children:[e.jsx(i,{href:"#",onClick:()=>p(s.id),className:"btn btn-icon waves-effect waves-light btn-success m-b-5","data-toggle":"tooltip",title:"Recovery","data-original-title":"Restore",children:e.jsx("i",{className:"fa fa-mail-reply"})}),e.jsx(i,{href:"#",onClick:()=>m(s.id),className:"btn btn-icon waves-effect waves-light btn-danger m-b-5 ml-1","data-toggle":"tooltip",title:"Remove",children:e.jsx("i",{className:"fa fa-remove"})})]})]},s.id))})]})}),e.jsx(b,{currentPage:a.current_page,lastPage:a.last_page,onPageChange:x})]})]})})}export{_ as default};
