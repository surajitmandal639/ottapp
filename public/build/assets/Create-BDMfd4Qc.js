import{W as v,r as o,j as e,Y as g,a as N,y as r}from"./app-DWiplGih.js";import{s as d}from"./SweetAlert-_wzJVbyC.js";import{A as b}from"./AuthenticatedLayout-RN_dLH_b.js";import"./jquery-TLgHKWof.js";import"./bootstrap.esm-Bb0rKlaf.js";import"./Loder-D9bdZO9o.js";import"./MyImage-BxCI3zcA.js";function E({auth:u,errors:s,slider:a}){const{data:l,setData:c,processing:x,reset:h}=v({title:(a==null?void 0:a.title)||"",image:null,status:(a==null?void 0:a.status)||1}),[m,i]=o.useState((a==null?void 0:a.image_url)||null);o.useEffect(()=>{a!=null&&a.image_url&&i(a.image_url)},[a]);const f=t=>{const n=t.target.files[0];c("image",n);const j=URL.createObjectURL(n);i(j)},p=async t=>{t.preventDefault(),a?await r.post(route("sliders.update",a.id),{...l,_method:"PUT"},{onSuccess:()=>d("Slider updated successfully.")}):await r.post(route("sliders.store"),l,{onSuccess:()=>{d("Slider created successfully."),h(),i(null)}})};return e.jsxs(b,{user:u.user,children:[e.jsx(g,{title:a?"Edit Slider":"Add Slider"}),e.jsxs("div",{className:"card-box table-responsive",children:[e.jsx("div",{className:"row",children:e.jsx(N,{href:"#",onClick:()=>window.history.back(),children:e.jsxs("h4",{className:"header-title m-t-0 m-b-30 text-primary pull-left",style:{fontSize:"20px"},children:[e.jsx("i",{className:"fa fa-arrow-left"})," Back"]})})}),e.jsxs("form",{onSubmit:p,className:"form-horizontal",encType:"multipart/form-data",children:[e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Slider Title ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"text",name:"title",value:l.title,onChange:t=>c("title",t.target.value),className:`form-control ${s.title?"is-invalid":""}`}),s&&s.title&&e.jsx("span",{className:"invalid-feedback",children:s.title})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsxs("label",{className:"col-sm-3 col-form-label",children:["Slider Image ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs("div",{className:"col-sm-8",children:[e.jsx("input",{type:"file",name:"image",onChange:f,className:`form-control ${s.image?"is-invalid":""}`}),s&&s.image&&e.jsx("span",{className:"invalid-feedback",children:s.image}),e.jsx("small",{className:"form-text text-muted",children:"(Recommended resolution: 1100x450)"})]})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"offset-sm-3"}),e.jsx("div",{className:"col-sm-8",children:m&&e.jsx("img",{src:m,alt:"Preview",className:"img-thumbnail mr-1",style:{width:"180px"}})})]}),e.jsxs("div",{className:"form-group row",children:[e.jsx("label",{className:"col-sm-3 col-form-label",children:"Status"}),e.jsx("div",{className:"col-sm-8",children:e.jsxs("select",{className:"form-control",name:"status",value:l.status,onChange:t=>c("status",t.target.value),children:[e.jsx("option",{value:"1",children:"Active"}),e.jsx("option",{value:"2",children:"Inactive"})]})})]}),e.jsx("div",{className:"form-group row",children:e.jsx("div",{className:"col-sm-8 offset-sm-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x,children:a?"Update Slider":"Create Slider"})})})]})]})]})}export{E as default};
