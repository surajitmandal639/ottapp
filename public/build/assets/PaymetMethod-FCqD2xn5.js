import{q as x,r as l,j as e,a as i,y as j}from"./app-DWiplGih.js";import{B as f}from"./Breadcrumb-DU-j3mh0.js";import{a as n,s as v}from"./SweetAlert-_wzJVbyC.js";import{A as y}from"./AuthenticatedLayout-DrF3Pj4l.js";import"./jquery-TLgHKWof.js";import"./bootstrap.esm-Bb0rKlaf.js";/* empty css                 */import"./frontend-CQDgn61_.js";import"./Footer-DriMwlLM.js";import"./MyImage-BxCI3zcA.js";function I({breadcrumb:d,plan:s,methods:N}){const{user:a}=x().props.auth,[r,m]=l.useState((s==null?void 0:s.price)||0),[c,p]=l.useState(""),u=async o=>{if(o.preventDefault(),!c){n("Please enter a coupon code.");return}try{const t=await axios.post(route("apply-coupon"),{total_price:r,coupon_code:c});t.data.status==="success"?(m(t.data.final_price),v(t.data.message)):n(t.data.message)}catch(t){console.error(t),n("An error occurred while applying the coupon.")}},h=async o=>{o.preventDefault();try{await j.post(route("logout"))}catch(t){console.error("Error during logout: ",t)}};return e.jsxs(y,{children:[e.jsx(f,{data:d}),e.jsx("div",{className:"vfx-item-ptb vfx-item-info pb-3",children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:e.jsxs("div",{className:"payment-details-area",children:[e.jsx("h3",{children:"Payment Method"}),e.jsxs("div",{className:"select-plan-text",children:["You have Selected ",e.jsx("span",{children:s==null?void 0:s.name})," â‚¹ ",r]}),e.jsxs("p",{children:["You are Logged in as"," ",e.jsx(i,{href:"#",title:"user_email",children:a==null?void 0:a.email}),". If you would like to use a different account for this subscription,"," ",e.jsx(i,{href:"#",onClick:h,title:"logout",children:"Logout"})," ","now."]}),e.jsx("div",{className:"mt-3",children:e.jsx(i,{href:route("memberships"),className:"vfx-item-btn-danger text-uppercase",children:"Change Plan"})})]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-5 col-md-12 col-sm-12 col-xs-12",children:e.jsxs("div",{className:"apply-coupon-code",children:[e.jsx("h2",{children:"I Have Coupon Code"}),e.jsx("form",{onSubmit:u,className:"",children:e.jsxs("div",{className:"apply-now-item",children:[e.jsx("input",{type:"text",name:"coupon_code",id:"enterCode",className:"form-control",placeholder:"Enter Coupon Code",onChange:o=>p(o.target.value),value:c}),e.jsx("button",{className:"vfx-item-btn-danger text-uppercase",type:"submit",children:"Apply Coupon"})]})})]})})}),e.jsx("div",{className:"row membership_plan_block",children:e.jsx("div",{className:"col-lg-3 col-md-6 col-sm-6 col-xs-12",children:e.jsxs("div",{className:"select-payment-method",children:[e.jsx("h1",{children:"Paypal"}),e.jsx("h4",{children:"For International Payment"}),e.jsxs("form",{method:"POST",action:"https://example.com/paypal/pay",acceptCharset:"UTF-8",className:"",children:[e.jsx("input",{type:"hidden",name:"plan_id",value:s==null?void 0:s.id}),e.jsx("input",{type:"hidden",name:"amount",value:r}),e.jsx("input",{type:"hidden",name:"plan_name",value:s==null?void 0:s.name}),e.jsx("button",{type:"submit",className:"vfx-item-btn-danger text-uppercase",children:"Pay Now"})]})]})})})]})})]})}export{I as default};
